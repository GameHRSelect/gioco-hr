<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scenario HR Avanzato</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #F1E5D7;
      display: flex;
      height: 100vh;
      overflow: hidden;
      color: #06283F;
    }
    .left-pane {
      width: 50%;
      height: 100%;
      overflow: hidden;
    }
    .left-pane img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: opacity 1s ease-in-out;
    }
    .right-pane {
      width: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px;
      background: white;
      box-shadow: -5px 0 20px rgba(0,0,0,0.15);
    }
    .card {
      width: 100%;
      max-width: 450px;
      background: #fff;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease;
    }
    .card.show { opacity: 1; transform: translateY(0); }
    h1 { color: #8D064A; font-size: 2rem; margin-bottom: 20px; }
    .question { font-size: 1.3rem; margin-bottom: 25px; }
    .options button {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      font-size: 1.1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #1B65A5;
      color: white;
      transition: background 0.3s, transform 0.2s;
    }
    .options button:hover { background: #06283F; transform: scale(1.02); }
    .result-card {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      margin-top: 20px;
      text-align: center;
    }
    .result-card img {
      width: 80px; height: 80px;
      margin-bottom: 20px;
    }
    .result-card h2 { color: #D80D32; margin-bottom: 15px; }
    .btn-reset {
      margin-top: 25px;
      padding: 12px 25px;
      font-size: 1rem;
      border: none;
      background: #8D064A;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn-reset:hover { background: #D80D32; }
  </style>
</head>
<body>
  <div class="left-pane">
    <img id="bg" src="" alt="Scenario">
  </div>
  <div class="right-pane">
    <div class="card" id="card">
      <h1>Scenario HR Avanzato</h1>
      <div id="step" class="question"></div>
      <div class="options" id="options"></div>
      <div id="result"></div>
      <button id="reset" class="btn-reset hidden">Rigioca</button>
    </div>
  </div>

  <script>
    const steps = [
      {
        bg: "https://images.unsplash.com/photo-1521737604893-d14cc237f11d",
        question: "Devi scegliere il leader per un progetto strategico ad alta pressione:",
        options: [
          { text: "Giovane innovatore senza esperienza manageriale", score: 3, next: 1 },
          { text: "Manager esperto ma tradizionalista", score: 1, next: 1 },
          { text: "Talento emergente con leadership naturale", score: 2, next: 1 }
        ]
      },
      {
        bg: "https://images.unsplash.com/photo-1551836022-d5d88e9218df",
        question: "Qual è la strategia che imposteresti?",
        options: [
          { text: "Innovazione e rischio calcolato", score: 3, next: 2 },
          { text: "Approccio conservativo e sicuro", score: 1, next: 2 },
          { text: "Aggressivo e orientato alla velocità", score: 2, next: 2 }
        ]
      },
      {
        bg: "https://images.unsplash.com/photo-1504384308090-c894fdcc538d",
        question: "Si verifica una crisi improvvisa: il team è spaccato. Cosa fai?",
        options: [
          { text: "Mediazione soft e rafforzamento del morale", score: 1, next: null },
          { text: "Cambio immediato del leader", score: 2, next: null },
          { text: "Ristrutturazione totale e pivot del progetto", score: 3, next: null }
        ]
      }
    ];

    const profiles = [
      { range: [0,3], title: "HR Prudente", text: "Privilegi la stabilità e riduci al minimo i rischi.", icon: "https://img.icons8.com/color/96/000000/safe.png" },
      { range: [4,5], title: "HR Bilanciato", text: "Sai unire sicurezza e innovazione con giudizio.", icon: "https://img.icons8.com/color/96/000000/balance.png" },
      { range: [6,7], title: "HR Visionario", text: "Spingi verso il cambiamento con decisione e coraggio.", icon: "https://img.icons8.com/color/96/000000/idea.png" },
      { range: [8,9], title: "HR Disruptive", text: "Rivoluzioni ogni schema e accetti rischi elevati.", icon: "https://img.icons8.com/color/96/000000/rocket.png" }
    ];

    let currentStep = 0;
    let score = 0;

    const bg = document.getElementById('bg');
    const stepEl = document.getElementById('step');
    const optionsEl = document.getElementById('options');
    const resultEl = document.getElementById('result');
    const resetBtn = document.getElementById('reset');
    const card = document.getElementById('card');

    function updateBackground(url) {
      bg.style.opacity = 0;
      setTimeout(() => {
        bg.src = url;
        bg.style.opacity = 1;
      }, 300);
    }

    function showStep(index) {
      updateBackground(steps[index].bg);
      card.classList.remove('show');
      setTimeout(() => {
        stepEl.textContent = steps[index].question;
        optionsEl.innerHTML = '';
        resultEl.innerHTML = '';
        steps[index].options.forEach(opt => {
          const btn = document.createElement('button');
          btn.textContent = opt.text;
          btn.onclick = () => {
            score += opt.score;
            if (opt.next !== null) {
              currentStep = opt.next;
              showStep(currentStep);
            } else {
              showResult();
            }
          };
          optionsEl.appendChild(btn);
        });
        card.classList.add('show');
      }, 200);
    }

    function showResult() {
      let profile = profiles.find(p => score >= p.range[0] && score <= p.range[1]);
      optionsEl.innerHTML = '';
      resultEl.innerHTML = `
        <div class="result-card">
          <img src="${profile.icon}" alt="Icona Profilo">
          <h2>${profile.title}</h2>
          <p>${profile.text}</p>
        </div>
      `;
      resetBtn.classList.remove('hidden');
    }

    resetBtn.onclick = () => {
      currentStep = 0;
      score = 0;
      resetBtn.classList.add('hidden');
      showStep(currentStep);
    };

    showStep(currentStep);
  </script>
</body>
</html>
