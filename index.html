<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scenario HR - Mini Assessment</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f1e5d7; margin: 0; padding: 0; color: #06283F; }
    .container { max-width: 800px; margin: 0 auto; padding: 40px; text-align: center; }
    h1 { color: #8D064A; }
    .question { font-size: 1.3rem; margin-bottom: 30px; }
    .options button { 
      display: block; 
      width: 100%; 
      padding: 15px; 
      margin: 10px 0; 
      font-size: 1rem; 
      border: none; 
      border-radius: 8px; 
      cursor: pointer; 
      transition: all 0.3s ease; 
      background: #1B65A5; 
      color: white;
    }
    .options button:hover { background: #06283F; }
    .result { font-size: 1.4rem; margin-top: 40px; }
    .hidden { display: none; }
    .btn-reset { 
      background: #D80D32; 
      padding: 10px 20px; 
      border: none; 
      border-radius: 6px; 
      color: #fff; 
      cursor: pointer; 
      font-size: 1rem;
      margin-top: 30px;
    }
    .btn-reset:hover { background: #8D064A; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Scenario HR Avanzato</h1>
    <div id="game">
      <div id="step"></div>
      <div class="options" id="options"></div>
    </div>
    <div id="result" class="hidden"></div>
    <button id="reset" class="btn-reset hidden">Rigioca</button>
  </div>

  <script>
    const steps = [
      {
        question: "Devi scegliere il leader per un progetto strategico ad alta pressione:",
        options: [
          { text: "Un giovane innovatore senza esperienza manageriale", score: 3, next: 1 },
          { text: "Un manager esperto ma molto tradizionalista", score: 1, next: 1 },
          { text: "Un talento emergente con leadership naturale ma poca tecnica", score: 2, next: 1 }
        ]
      },
      {
        question: "Qual è la strategia che imposteresti?",
        options: [
          { text: "Innovazione e rischio calcolato", score: 3, next: 2 },
          { text: "Approccio conservativo e sicuro", score: 1, next: 2 },
          { text: "Aggressivo e orientato alla velocità", score: 2, next: 2 }
        ]
      },
      {
        question: "Si verifica una crisi improvvisa: il team è spaccato. Cosa fai?",
        options: [
          { text: "Mediazione soft e rafforzamento del morale", score: 1, next: null },
          { text: "Cambio immediato del leader per ristabilire ordine", score: 2, next: null },
          { text: "Ristrutturazione totale e pivot del progetto", score: 3, next: null }
        ]
      }
    ];

    const profiles = [
      { range: [0,3], text: "Sei un HR Prudente e Tradizionalista: preferisci sicurezza e stabilità alle innovazioni radicali." },
      { range: [4,5], text: "Sei un HR Bilanciato: sai unire sicurezza e innovazione quando serve." },
      { range: [6,7], text: "Sei un HR Visionario: spingi verso il cambiamento con decisione e coraggio." },
      { range: [8,9], text: "Sei un HR Disruptive: rivoluzioni ogni schema e accetti rischi elevati." }
    ];

    let currentStep = 0;
    let score = 0;

    const stepEl = document.getElementById('step');
    const optionsEl = document.getElementById('options');
    const resultEl = document.getElementById('result');
    const resetBtn = document.getElementById('reset');

    function showStep(index) {
      stepEl.textContent = steps[index].question;
      optionsEl.innerHTML = '';
      steps[index].options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.textContent = opt.text;
        btn.onclick = () => {
          score += opt.score;
          if (opt.next !== null) {
            currentStep = opt.next;
            showStep(currentStep);
          } else {
            showResult();
          }
        };
        optionsEl.appendChild(btn);
      });
    }

    function showResult() {
      let profile = profiles.find(p => score >= p.range[0] && score <= p.range[1]);
      resultEl.textContent = "Risultato: " + profile.text;
      resultEl.classList.remove('hidden');
      optionsEl.innerHTML = '';
      stepEl.textContent = '';
      resetBtn.classList.remove('hidden');
    }

    resetBtn.onclick = () => {
      currentStep = 0;
      score = 0;
      resultEl.classList.add('hidden');
      resetBtn.classList.add('hidden');
      showStep(currentStep);
    };

    showStep(currentStep);
  </script>
</body>
</html>
