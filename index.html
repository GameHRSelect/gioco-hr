<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Psicologico Avanzato</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #F8F9FA;
            margin: 0; padding: 20px;
        }
        h1 {color: #8D064A;}
        .container {
            max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap;
        }
        .left-col, .right-col {
            flex: 1; padding: 20px; min-width: 300px;
        }
        img {
            width: 100%; border-radius: 12px; margin-bottom: 15px;
        }
        .btn-option {width:100%;margin-bottom:10px}
    </style>
</head>

<body>
<div class="container">
    <div class="left-col">
        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f" alt="">
        <img src="https://images.unsplash.com/photo-1508830524289-0adcbe822b40" alt="">
        <img src="https://images.unsplash.com/photo-1485217988980-11786ced9454" alt="">
    </div>

    <div class="right-col">
        <h1>Test Psicologico Avanzato</h1>
        <div id="question-container"></div>
        <canvas id="radarChart" style="display:none;"></canvas>
        <p id="profile-text" class="mt-4"></p>
        <button onclick="location.reload()" class="btn btn-danger mt-3">Ripeti test</button>
    </div>
</div>

<script>
const questions = [
    {q:"Come affronti un dilemma etico con impatto economico?", opts:["Analizzo tutte le variabili","Coinvolgo il team","Cerco equilibrio profitto-valori"],vals:[8,7,6]},
    {q:"Come gestisci uno stress imprevisto nel team?", opts:["Approccio strutturato","Empatia e ascolto","Adattabilità rapida"],vals:[7,9,8]},
    {q:"Decisioni rapide o meditate?", opts:["Rapide","Meditate","Equilibrate"],vals:[6,9,8]},
    {q:"Come reagisci a critiche pubbliche?", opts:["Razionalizzo","Accetto e miglioro","Difendo il team"],vals:[8,9,7]},
    {q:"Gestione budget limitato?", opts:["Ottimizzo risorse","Creatività low-cost","Investimento ponderato"],vals:[8,9,7]},
    {q:"Approccio a innovazione?", opts:["Misurata e sicura","Sperimentale","Prudente ma aperto"],vals:[7,9,8]},
    {q:"Team conflittuale, cosa fai?", opts:["Mediazione","Ascolto empatico","Ristrutturazione"],vals:[8,9,7]},
    {q:"Errore grave del team, reazione?", opts:["Analisi fredda","Supporto emotivo","Riorganizzo procedure"],vals:[7,9,8]},
    {q:"Priorità nel lavoro di squadra?", opts:["Leadership","Empatia","Creatività"],vals:[8,9,7]},
    {q:"Visione strategica o operativa?", opts:["Strategica","Operativa","Equilibrata"],vals:[9,7,8]}
];

let answers = [], idx = 0;

function loadQuestion() {
    if(idx<questions.length){
        let {q,opts}=questions[idx];
        document.getElementById("question-container").innerHTML=`<h4>${q}</h4>`+opts.map((o,i)=>`<button class='btn btn-primary btn-option' onclick='choose(${i})'>${o}</button>`).join('');
    }else showResult();
}

function choose(i){answers.push(i);idx++;loadQuestion();}

function showResult(){
    document.getElementById('question-container').style.display="none";
    document.getElementById('radarChart').style.display="block";

    let scores={leadership:0,empatia:0,creativita:0,adattabilita:0};

    answers.forEach((a,j)=>{
        scores.leadership+=questions[j].vals[a]*(j%2==0?1.1:1);
        scores.empatia+=questions[j].vals[a]*(j%2==1?1.2:1);
        scores.creativita+=questions[j].vals[a]*(a==1?1.1:1);
        scores.adattabilita+=questions[j].vals[a]*(a==2?1.3:1);
    });

    new Chart("radarChart",{type:"radar",data:{labels:["Leadership","Empatia","Creatività","Adattabilità"],
    datasets:[{label:"Profilo",data:Object.values(scores),backgroundColor:"rgba(29,78,216,0.2)",borderColor:"#06283F"}]},options:{scales:{r:{beginAtZero:true,max:120}}}});

    document.getElementById("profile-text").innerHTML=`Profilo complesso: Mostri eccellente equilibrio emotivo e razionale, hai propensione per leadership empatica e collaborativa. La tua adattabilità ti rende efficace in ambienti dinamici, mentre la creatività supporta innovazione continua. Capacità analitiche profonde unite ad un’innata comprensione empatica dei bisogni del team evidenziano spiccate qualità di leadership umanistica, ideale per ruoli di responsabilità in organizzazioni moderne e diversificate.`;
}

window.onload=loadQuestion;
</script>
</body>
</html>
